function showPost(post) {
  document.getElementById("postListView").style.display = "none";
  document.getElementById("postDetailView").style.display = "block";
  document.getElementById("currentPostTitle").innerText = post.title;

  const detail = document.getElementById("postDetailContent");
  detail.innerHTML = `
    <div class="postCard">
      <h3>${post.title}</h3>
      <p>${post.content}</p>
      <p>
        ${post.author || "匿名"} 投稿 · 
        ${(post.createdAt && post.createdAt.toDate)
          ? post.createdAt.toDate().toLocaleDateString()
          : (post.createdAt
              ? new Date(post.createdAt).toLocaleDateString()
              : "時間不明")}
      </p>
      <p><b>地點：</b>${post.locationName}</p>
    </div>
  `;

  if (post.coordinates) {
    let pos = {
      lat: post.coordinates.latitude,
      lng: post.coordinates.longitude
    };
    map.setCenter(pos);
    map.setZoom(14);
  } else {
    alert("此文章尚未提供座標");
  }

  window.scrollTo({ top: 0, behavior: 'smooth' });
}
