function renderSidebar(groups) {
  const sidebar = document.getElementById("sidebar");
  sidebar.innerHTML = `
    <input type="text" id="searchBox" placeholder="搜尋文章...">
    <button onclick="window.location.href='submit.html'">✍️ 我要投稿</button>
  `;

  for (let region in groups) {
    let h3 = document.createElement("h3");
    h3.innerText = region; // 這裡是地區分類標題
    sidebar.appendChild(h3);

    let ul = document.createElement("ul");
    groups[region].forEach(post => {
      let li = document.createElement("li");
      let a = document.createElement("a");
      a.innerText = post.title;
      a.href = "#";
      a.onclick = () => showPost(post); // 點擊後顯示文章內容
      li.appendChild(a);
      ul.appendChild(li);
    });
    sidebar.appendChild(ul);
  }

  document.getElementById("searchBox").addEventListener("input", e => {
    const keyword = e.target.value.toLowerCase();
    const links = sidebar.querySelectorAll("a");
    links.forEach(link => {
      link.style.display = link.innerText.toLowerCase().includes(keyword) ? "block" : "none";
    });
  });
}
